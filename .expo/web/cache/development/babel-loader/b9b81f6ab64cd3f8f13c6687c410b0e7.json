{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport styles from \"./style\";\nimport { listTask, deleteTask } from \"../../services/firestore/index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar temLIst = [{\n  id: \"teste01\",\n  name: \"teste01\",\n  createdAt: Date.now()\n}, {\n  id: \"teste02\",\n  name: \"teste02\",\n  createdAt: Date.now()\n}, {\n  id: \"teste03\",\n  name: \"teste03\",\n  createdAt: Date.now()\n}, {\n  id: \"teste04\",\n  name: \"teste04\",\n  createdAt: Date.now()\n}, {\n  id: \"teste05\",\n  name: \"teste05\",\n  createdAt: Date.now()\n}, {\n  id: \"teste06\",\n  name: \"teste06\",\n  createdAt: Date.now()\n}, {\n  id: \"teste07\",\n  name: \"teste07\",\n  createdAt: Date.now()\n}];\nexport default function Task(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(temLIst),\n      _useState2 = _slicedToArray(_useState, 2),\n      task = _useState2[0],\n      setTask = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      refreshing = _useState4[0],\n      setRefreshing = _useState4[1];\n\n  var wait = function wait(timeout) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, timeout);\n    });\n  };\n\n  var onRefresh = useCallback(function () {\n    setRefreshing(true);\n    wait(2000).then(function () {\n      buttonListTask();\n      setRefreshing(false);\n    });\n  }, []);\n\n  function buttonDeleteTask(_x) {\n    return _buttonDeleteTask.apply(this, arguments);\n  }\n\n  function _buttonDeleteTask() {\n    _buttonDeleteTask = _asyncToGenerator(function* (id) {\n      yield deleteTask(id);\n      setTask(task.filter(function (item) {\n        return item.id !== id;\n      }));\n    });\n    return _buttonDeleteTask.apply(this, arguments);\n  }\n\n  function buttonListTask() {\n    return _buttonListTask.apply(this, arguments);\n  }\n\n  function _buttonListTask() {\n    _buttonListTask = _asyncToGenerator(function* () {\n      var result = yield listTask();\n      setTask(result);\n      return result;\n    });\n    return _buttonListTask.apply(this, arguments);\n  }\n\n  useEffect(function () {}, [task]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      showsVerticalScrollIndicator: false,\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh\n      }),\n      data: task,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: styles.Tasks,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.buttonDeleteTask,\n            onPress: function onPress() {\n              buttonDeleteTask(item.id);\n            },\n            children: _jsx(FontAwesome, {\n              name: \"star\",\n              size: 23,\n              color: \"#f92e6a\"\n            })\n          }), _jsx(Text, {\n            style: styles.name,\n            onPress: function onPress() {\n              navigation.navigate(\"Details\", {\n                id: item.id,\n                name: item.name\n              });\n            },\n            children: item.name\n          })]\n        });\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.buttonNewTask,\n      onPress: function onPress() {\n        return navigation.navigate(\"New Task\");\n      },\n      children: _jsx(Text, {\n        style: styles.iconButton,\n        children: \"+\"\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","useCallback","FontAwesome","styles","listTask","deleteTask","temLIst","id","name","createdAt","Date","now","Task","navigation","task","setTask","refreshing","setRefreshing","wait","timeout","Promise","resolve","setTimeout","onRefresh","then","buttonListTask","buttonDeleteTask","filter","item","result","container","Tasks","navigate","buttonNewTask","iconButton"],"sources":["/Applications/Projetos/Estudo/react-native-demo-firebase-db/to-do-list-app/To-Do-List-expo-firebasev9/src/pages/Task/index.js"],"sourcesContent":["import React,{useState, useEffect, useCallback} from \"react\";\nimport {\n    View,\n    Text,\n    TouchableOpacity,\n    FlatList,\n    RefreshControl\n} from \"react-native\"\n\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport styles from \"./style\";\n\nimport { listTask, deleteTask } from '../../services/firestore/index'\n\nconst temLIst = [\n    {id:\"teste01\", name:\"teste01\", createdAt:Date.now()},\n    {id:\"teste02\", name:\"teste02\", createdAt:Date.now()},\n    {id:\"teste03\", name:\"teste03\", createdAt:Date.now()},\n    {id:\"teste04\", name:\"teste04\", createdAt:Date.now()},\n    {id:\"teste05\", name:\"teste05\", createdAt:Date.now()},\n    {id:\"teste06\", name:\"teste06\", createdAt:Date.now()},\n    {id:\"teste07\", name:\"teste07\", createdAt:Date.now()},\n]\n\nexport default function Task({ navigation }){\n\n    const [ task, setTask ] = useState(temLIst)\n    const [ refreshing, setRefreshing ] = useState(false)\n\n    const wait = timeout => {\n        return new Promise(resolve => setTimeout(resolve,timeout))\n    }\n\n    const onRefresh = useCallback(() => {\n        setRefreshing(true);\n        wait(2000).then(() => {\n            buttonListTask()\n            setRefreshing(false)\n        });\n    },[]);\n    \n\n    async function buttonDeleteTask(id){\n        await deleteTask(id)\n        setTask(task.filter(item => item.id !== id))\n\n    }\n\n    async function buttonListTask() {\n        var result = await listTask()\n        setTask(result)\n        return result\n    }\n\n    useEffect(() => {\n        // buttonListTask()\n    },[task])\n\n    return(\n        <View style={styles.container}>\n            <FlatList\n            showsVerticalScrollIndicator={false}\n            refreshControl={<RefreshControl refreshing={refreshing} onRefresh={onRefresh}/>}\n            data={task}\n            renderItem={({item}) =>{\n                return(\n                <View style={styles.Tasks}>\n                    <TouchableOpacity style={styles.buttonDeleteTask}\n                    onPress={() => {\n                        buttonDeleteTask(item.id)\n                    }}>\n                        <FontAwesome name=\"star\"\n                        size={23}\n                        color=\"#f92e6a\">\n\n                        </FontAwesome>\n                    </TouchableOpacity>\n                    <Text style={styles.name}\n                    onPress={()=>{\n                        navigation.navigate(\"Details\", {\n                            id: item.id, name: item.name\n                        })\n                    }}>{\n                    item.name}\n                    </Text>\n                </View>\n                )\n            }}\n            />\n            <TouchableOpacity style={styles.buttonNewTask}\n            onPress={() => navigation.navigate(\"New Task\")}>\n                <Text style={styles.iconButton}>+</Text>\n            </TouchableOpacity>\n        </View>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}